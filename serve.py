# -*- coding: utf-8 -*-# @Time    : 2021/11/26 12:49 上午# @Author  : leiyh# @Email   : leiyh0104@163.com# @File    : serve.py# @Software : PyCharmfrom sanic import Sanicfrom bim.serve import bimfrom doors.serve import doorfrom drawings.serve import drawingfrom equipNum.serve import devicesfrom middleWare import inject_session, close_sessionfrom timeOrd.serve import tofrom hrs.serve import hrapp = Sanic(__name__)app.blueprint([bim, door, drawing, devices, hr, to])app.register_middleware(inject_session,"request")app.register_middleware(close_session,"response")if __name__ == '__main__':    # https://www.osgeo.cn/sanic/sanic/deploying.html    # asgi 启动方式：gunicorn serve:app --bind 127.0.0.1:1337 --worker-class sanic.worker.GunicornWorker    app.run(host='0.0.0.0', port=8000, debug=True,auto_reload=True)